<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>lsst.sims.schedulerConfig: lsst.ts.statemachine.context.Context Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">lsst.sims.schedulerConfig
   &#160;<span id="projectnumber">unknown</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>lsst</b></li><li class="navelem"><b>ts</b></li><li class="navelem"><b>statemachine</b></li><li class="navelem"><b>context</b></li><li class="navelem"><a class="el" href="classlsst_1_1ts_1_1statemachine_1_1context_1_1Context.html">Context</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classlsst_1_1ts_1_1statemachine_1_1context_1_1Context-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">lsst.ts.statemachine.context.Context Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9b7a09c5ab7eba175455076cb7808158"><td class="memItemLeft" align="right" valign="top"><a id="a9b7a09c5ab7eba175455076cb7808158"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>__init__</b> (self, subsystem_tag, model, default_state='OFFLINE', tsleep=0.5, states=None)</td></tr>
<tr class="separator:a9b7a09c5ab7eba175455076cb7808158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba926f6248628bc400a2fe82ff775621"><td class="memItemLeft" align="right" valign="top"><a id="aba926f6248628bc400a2fe82ff775621"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>subscribe_list</b> (self, eventlist)</td></tr>
<tr class="separator:aba926f6248628bc400a2fe82ff775621"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91cdce51db2d88e255d1f0d7a5d97595"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlsst_1_1ts_1_1statemachine_1_1context_1_1Context.html#a91cdce51db2d88e255d1f0d7a5d97595">send_logEvent</a> (self, eventname, kwargs)</td></tr>
<tr class="separator:a91cdce51db2d88e255d1f0d7a5d97595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53016ff56ba4b0ab0b8bd74159041661"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlsst_1_1ts_1_1statemachine_1_1context_1_1Context.html#a53016ff56ba4b0ab0b8bd74159041661">subscribe_logEvent</a> (self, eventname)</td></tr>
<tr class="separator:a53016ff56ba4b0ab0b8bd74159041661"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a109135ca1424a0e49a3e31e9f7668814"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlsst_1_1ts_1_1statemachine_1_1context_1_1Context.html#a109135ca1424a0e49a3e31e9f7668814">get_current_state</a> (self)</td></tr>
<tr class="separator:a109135ca1424a0e49a3e31e9f7668814"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca52ae7b875bcd9b72bc7e549650f3dd"><td class="memItemLeft" align="right" valign="top"><a id="aca52ae7b875bcd9b72bc7e549650f3dd"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>validate_transition</b> (self, new_state)</td></tr>
<tr class="separator:aca52ae7b875bcd9b72bc7e549650f3dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a187d66ab944b7764e09b885889171f6d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlsst_1_1ts_1_1statemachine_1_1context_1_1Context.html#a187d66ab944b7764e09b885889171f6d">execute_command</a> (self, command)</td></tr>
<tr class="separator:a187d66ab944b7764e09b885889171f6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a8fdd761c097e5b8aaa526a4d701e6cf4"><td class="memItemLeft" align="right" valign="top"><a id="a8fdd761c097e5b8aaa526a4d701e6cf4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>subsystem_tag</b></td></tr>
<tr class="separator:a8fdd761c097e5b8aaa526a4d701e6cf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a643a204ccc451c8700c84c9992b67d1c"><td class="memItemLeft" align="right" valign="top"><a id="a643a204ccc451c8700c84c9992b67d1c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>model</b></td></tr>
<tr class="separator:a643a204ccc451c8700c84c9992b67d1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71585f815fb252c8c9b5e1e9463cae4c"><td class="memItemLeft" align="right" valign="top"><a id="a71585f815fb252c8c9b5e1e9463cae4c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>current_state</b></td></tr>
<tr class="separator:a71585f815fb252c8c9b5e1e9463cae4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94607ded65eb0478d9c6bb4335e06534"><td class="memItemLeft" align="right" valign="top"><a id="a94607ded65eb0478d9c6bb4335e06534"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>tsleep</b></td></tr>
<tr class="separator:a94607ded65eb0478d9c6bb4335e06534"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a30c2ea45882ac22249f3b4be3a9ce7"><td class="memItemLeft" align="right" valign="top"><a id="a5a30c2ea45882ac22249f3b4be3a9ce7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>states</b></td></tr>
<tr class="separator:a5a30c2ea45882ac22249f3b4be3a9ce7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3108fd7a16fea26a751334e2461e55ca"><td class="memItemLeft" align="right" valign="top"><a id="a3108fd7a16fea26a751334e2461e55ca"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>log</b></td></tr>
<tr class="separator:a3108fd7a16fea26a751334e2461e55ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">The Context orchestrates triggers from the states to the model.

When creating DDSControllers a Context is passed into it. When the
DDSController recieves commands it delegates these actions to the Context.
The context then delegates this to the active State. The salpylib allows
the states to be inherited from to override behavior of these states, in
face it is intended to be used this way. In essence this gives the
implementer full control on what the recieved call on the model.

Attributes:
    subsystem_tag: A string of the name of the CSC we want. Must exactly
    match the Subsystem Tag defined in XML. Link to current Subsystem Tags
    https://stash.lsstcorp.org/projects/TS/repos/ts_xml/browse/sal_interfaces
    default_state: default state defined within states.py of this library.
    tsleep: A sleeper to prevent race conditions when sending log events.
    states: List of states this context will contain. In general use, these
    should be subclassed states with overriden behavior.
</pre> </div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a187d66ab944b7764e09b885889171f6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a187d66ab944b7764e09b885889171f6d">&#9670;&nbsp;</a></span>execute_command()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def lsst.ts.statemachine.context.Context.execute_command </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>command</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This method delegates commands recieved by a DDSController to the
state.

The model is passed so that the State object may call methods on
it. Also the state is stored on the model only as a string
representation. The actual state object is stored on this context
object as self.states.

Attributes:
    command: A string representation of the command recieved by a
    DDSController object.
</pre> 
</div>
</div>
<a id="a109135ca1424a0e49a3e31e9f7668814"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a109135ca1424a0e49a3e31e9f7668814">&#9670;&nbsp;</a></span>get_current_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def lsst.ts.statemachine.context.Context.get_current_state </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Function to get the current state

:return:
</pre> 
</div>
</div>
<a id="a91cdce51db2d88e255d1f0d7a5d97595"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91cdce51db2d88e255d1f0d7a5d97595">&#9670;&nbsp;</a></span>send_logEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def lsst.ts.statemachine.context.Context.send_logEvent </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>eventname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Send logevent for an eventname</pre> 
</div>
</div>
<a id="a53016ff56ba4b0ab0b8bd74159041661"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53016ff56ba4b0ab0b8bd74159041661">&#9670;&nbsp;</a></span>subscribe_logEvent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def lsst.ts.statemachine.context.Context.subscribe_logEvent </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>eventname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create a subscription for the {Device}_logevent_{eventnname}
This step need to be done before we call send_logEvent

:param eventname:
:return:
</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>python/lsst/ts/statemachine/context.py</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
